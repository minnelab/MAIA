#SPDX-License-Identifier: MIT-0
galaxy_info:
  author: Simone Bendazzoli <simben@kth.se>
  description: Configure OIDC authentication for the MAIA environment by reading cluster configuration and updating external systems (e.g. Rancher).
  company: MAIA Project

  license: GPL-3.0-only
  min_ansible_version: 2.1

  galaxy_tags: [maia, kubernetes, oidc, authentication, rancher]

dependencies: []

argument_specs:
  main:
    options:
      config_folder:
        type: str
        required: true
        description: "Path to the configuration folder containing env.json and the cluster config YAML (e.g. /opt/maia/config)."
      configure_rancher:
        type: bool
        required: false
        default: true
        description: "Configure Rancher with OIDC authentication."
      configure_harbor:
        type: bool
        required: false
        default: true
        description: "Configure Harbor with OIDC authentication."
      harbor_admin_user:
        type: str
        required: false
        default: admin
        description: "Harbor admin user."
      harbor_admin_pass:
        type: str
        required: false
        default: Harbor12345
        description: "Harbor admin password."

