#SPDX-License-Identifier: MIT-0
---
# defaults file for microk8s

# MicroK8s version/channel to install
# Examples: "1.31/stable", "1.30/stable", "latest/stable"
microk8s_version: 1.35/stable

# User to add to the microk8s group
# This user will be able to run microk8s commands without sudo
ansible_user: root

# MicroK8s addons to enable
# Default addons: hostpath-storage (for local persistent volumes) and rbac (for role-based access control)
microk8s_addons:
  - hostpath-storage
  - rbac

# Firewall ports to open for MicroK8s
# 16443: Kubernetes API server port (for port forwarding)
# 80: HTTP port (for ingress)
# 443: HTTPS port (for ingress)
microk8s_firewall_ports:
  - port: 16443
    proto: tcp
  - port: 80
    proto: tcp
  - port: 443
    proto: tcp

# Path to MicroK8s config file (relative to config_folder)
microk8s_config_file: microk8s-config.yaml

# MicroK8s config directory on the target host
microk8s_config_dir: /var/snap/microk8s/common

# Enable SSH port forwarding for API access
# This sets up SSH tunnel from localhost to the MicroK8s API server
microk8s_enable_port_forwarding: true

# Port for SSH port forwarding (local port that forwards to MicroK8s API)
microk8s_port_forward_port: 16443
