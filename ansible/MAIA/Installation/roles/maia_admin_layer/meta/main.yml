#SPDX-License-Identifier: MIT-0
galaxy_info:
  author: Simone Bendazzoli <simben@kth.se>
  description: Install and configure the MAIA Admin layer components on Kubernetes, including identity, registries, dashboards, and supporting services.
  company: MAIA Project

  license: GPL-3.0-only
  min_ansible_version: 2.1

  galaxy_tags: [maia, kubernetes, admin, argocd, keycloak, harbor]

dependencies: []

argument_specs:
  main:
    options:
      config_folder:
        type: str
        required: true
        description: "Path to the configuration folder containing env.json and cluster config YAML."
      maia_admin_namespaces:
        type: list
        elements: str
        required: false
        default: [harbor, keycloak, maia-admin-toolkit, maia-dashboard, cattle-system]
        description: "List of namespaces to create for MAIA Admin components."
      auto_sync:
        type: bool
        required: false
        default: true
        description: "Enable ArgoCD application synchronization and post-install tasks."
      DEPLOY_KUBECONFIG:
        type: str
        required: true
        description: "Path to the kubeconfig used to manage the target cluster."
      argocd_namespace:
        type: str
        required: true
        description: "Namespace where ArgoCD is installed."
      admin_group_ID:
        type: str
        required: true
        description: "Keycloak admin group ID used by the installer."
      admin_project_chart:
        type: str
        required: true
        description: "Helm chart reference for the admin project."
      admin_project_repo:
        type: str
        required: true
        description: "Repository containing the admin project chart."
      admin_project_version:
        type: str
        required: true
        description: "Version of the admin project chart to deploy."
      keycloak_client_secret:
        type: str
        required: true
        description: "Client secret used to configure Keycloak."
      minio_admin_password:
        type: str
        required: true
        description: "Admin password for the MinIO tenant."
      minio_root_password:
        type: str
        required: true
        description: "Root password for the MinIO tenant."
      dashboard_api_secret:
        type: str
        required: true
        description: "API secret for the MAIA dashboard."
      mysql_dashboard_password:
        type: str
        required: true
        description: "Password for the dashboard MySQL backend."
      ARGOCD_PASSWORD:
        type: str
        required: true
        description: "Password for logging into ArgoCD via CLI."

